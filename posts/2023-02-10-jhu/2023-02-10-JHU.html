<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.489">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Josiah Parry">
<meta name="dcterms.date" content="2023-02-10">
<title>Josiah Parry – jhu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-8NVVBLZBVF"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-8NVVBLZBVF', { 'anonymize_ip': true});
</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="../../styles.css">
</head>
<body class="nav-sidebar docked slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Josiah Parry
      </li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Josiah Parry</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">about</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">posts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">projects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.xml" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RSS</span></a>
  </div>
</li>
    </ul>
</div>
    <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#jhu-talk-slides" id="toc-jhu-talk-slides" class="nav-link active" data-scroll-target="#jhu-talk-slides">JHU talk (slides)</a>
  <ul class="collapse">
<li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">objectives</a></li>
  </ul>
</li>
  <li>
<a href="#a-bit-about-myself" id="toc-a-bit-about-myself" class="nav-link" data-scroll-target="#a-bit-about-myself">A bit about myself</a>
  <ul class="collapse">
<li><a href="#its-a-me" id="toc-its-a-me" class="nav-link" data-scroll-target="#its-a-me">It’s a me</a></li>
  <li><a href="#humble-beginnings" id="toc-humble-beginnings" class="nav-link" data-scroll-target="#humble-beginnings">humble beginnings</a></li>
  </ul>
</li>
  <li><a href="#psu-is-nationally-recognized" id="toc-psu-is-nationally-recognized" class="nav-link" data-scroll-target="#psu-is-nationally-recognized">PSU is nationally recognized</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#finding-geography" id="toc-finding-geography" class="nav-link" data-scroll-target="#finding-geography">finding geography</a></li>
  <li><a href="#tobler-changed-my-perspective" id="toc-tobler-changed-my-perspective" class="nav-link" data-scroll-target="#tobler-changed-my-perspective">Tobler changed my perspective</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#humanity-is-inherently-spatial" id="toc-humanity-is-inherently-spatial" class="nav-link" data-scroll-target="#humanity-is-inherently-spatial">Humanity is inherently spatial</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li>
<a href="#i-become-a-gis-pro" id="toc-i-become-a-gis-pro" class="nav-link" data-scroll-target="#i-become-a-gis-pro">I become a GIS <em>pro</em></a>
  <ul class="collapse">
<li><a href="#stats-interest-became-an-r-interest" id="toc-stats-interest-became-an-r-interest" class="nav-link" data-scroll-target="#stats-interest-became-an-r-interest">stats interest became an R interest</a></li>
  <li><a href="#the-next-few-years" id="toc-the-next-few-years" class="nav-link" data-scroll-target="#the-next-few-years">The next few years</a></li>
  <li><a href="#northeastern" id="toc-northeastern" class="nav-link" data-scroll-target="#northeastern">Northeastern</a></li>
  <li><a href="#advanced-spatial-analysis" id="toc-advanced-spatial-analysis" class="nav-link" data-scroll-target="#advanced-spatial-analysis">Advanced Spatial Analysis</a></li>
  <li><a href="#advanced-spatial-analysis-1" id="toc-advanced-spatial-analysis-1" class="nav-link" data-scroll-target="#advanced-spatial-analysis-1">Advanced Spatial Analysis</a></li>
  <li><a href="#a-pandemic-rages" id="toc-a-pandemic-rages" class="nav-link" data-scroll-target="#a-pandemic-rages">a pandemic rages</a></li>
  </ul>
</li>
  <li><a href="#going-beyond-maps" id="toc-going-beyond-maps" class="nav-link" data-scroll-target="#going-beyond-maps">Going beyond maps</a></li>
  <li>
<a href="#neighborhood" id="toc-neighborhood" class="nav-link" data-scroll-target="#neighborhood">Neighborhood</a>
  <ul class="collapse">
<li><a href="#in-spatial-analysis" id="toc-in-spatial-analysis" class="nav-link" data-scroll-target="#in-spatial-analysis">In spatial analysis</a></li>
  </ul>
</li>
  <li>
<a href="#how-do-we-define-the-neighbors" id="toc-how-do-we-define-the-neighbors" class="nav-link" data-scroll-target="#how-do-we-define-the-neighbors">how do we define the neighbors?</a>
  <ul class="collapse">
<li><a href="#contiguities" id="toc-contiguities" class="nav-link" data-scroll-target="#contiguities">contiguities</a></li>
  <li><a href="#rook-contiguity" id="toc-rook-contiguity" class="nav-link" data-scroll-target="#rook-contiguity">Rook Contiguity</a></li>
  <li><a href="#rook-contiguity-1" id="toc-rook-contiguity-1" class="nav-link" data-scroll-target="#rook-contiguity-1">Rook Contiguity</a></li>
  <li><a href="#queen-contiguity" id="toc-queen-contiguity" class="nav-link" data-scroll-target="#queen-contiguity">Queen contiguity</a></li>
  <li><a href="#queen-contiguity-1" id="toc-queen-contiguity-1" class="nav-link" data-scroll-target="#queen-contiguity-1">Queen contiguity</a></li>
  <li><a href="#neighbors-in-practice" id="toc-neighbors-in-practice" class="nav-link" data-scroll-target="#neighbors-in-practice">Neighbors in practice</a></li>
  </ul>
</li>
  <li><a href="#evaluating-the-neighborhood" id="toc-evaluating-the-neighborhood" class="nav-link" data-scroll-target="#evaluating-the-neighborhood">Evaluating the neighborhood</a></li>
  <li>
<a href="#the-spatial-lag" id="toc-the-spatial-lag" class="nav-link" data-scroll-target="#the-spatial-lag">the <em>spatial lag</em></a>
  <ul class="collapse">
<li><a href="#understanding-the-lag" id="toc-understanding-the-lag" class="nav-link" data-scroll-target="#understanding-the-lag">Understanding the lag</a></li>
  <li><a href="#observed-values" id="toc-observed-values" class="nav-link" data-scroll-target="#observed-values">Observed values</a></li>
  <li><a href="#neighborhood-values-at-i" id="toc-neighborhood-values-at-i" class="nav-link" data-scroll-target="#neighborhood-values-at-i">Neighborhood values at <span class="math inline">\(i\)</span></a></li>
  <li><a href="#observed-vs-neighborhood" id="toc-observed-vs-neighborhood" class="nav-link" data-scroll-target="#observed-vs-neighborhood">Observed vs neighborhood</a></li>
  <li><a href="#spatial-lag-is-the-basis-of" id="toc-spatial-lag-is-the-basis-of" class="nav-link" data-scroll-target="#spatial-lag-is-the-basis-of">Spatial Lag is the basis of:</a></li>
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example">Example</a></li>
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1">Example</a></li>
  <li><a href="#tools-in-the-r-ecosystem" id="toc-tools-in-the-r-ecosystem" class="nav-link" data-scroll-target="#tools-in-the-r-ecosystem">Tools in the R ecosystem</a></li>
  <li><a href="#tools-in-python-ecosystem" id="toc-tools-in-python-ecosystem" class="nav-link" data-scroll-target="#tools-in-python-ecosystem">Tools in Python ecosystem</a></li>
  <li><a href="#what-do-you-want-to-do-next" id="toc-what-do-you-want-to-do-next" class="nav-link" data-scroll-target="#what-do-you-want-to-do-next">What do you want to do next?</a></li>
  </ul>
</li>
  </ul><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="2023-02-10-JHU.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Josiah Parry </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 10, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header><section id="jhu-talk-slides" class="level1"><h1>JHU talk (slides)</h1>
<div class="notes">
<p>Hey everyone, my name is Josiah. Thank you all for having me. And thank you René for inviting me here to chat with you all. It excites me to see so many people being exposed to GIS and spatial analysis. I’m going to use my time to tell you all about my experience from undergraduate, graduate school, and where I am today. Then I’ll talk briefly about the spatial analysis</p>
</div>
<section id="objectives" class="level2"><h2 class="anchored" data-anchor-id="objectives">objectives</h2>
<ul>
<li>tell you my story</li>
<li>maybe inspire you to program</li>
<li>a brief lesson on spatial analysis</li>
<li>anything you want this is your time</li>
</ul>
<div class="notes">
<p>I hope that you take away from this that your degree and the classes that you take do not dictate what field you have to go in. That your personal interests and studies are just as important, and if not sometimes more important, than what you learn in the classroom. Meaning, that while college classes are a wonderful introduction to subjects and fields nothing can compare with impassioned self-directed studying.</p>
<p>I want you to want to learn to program. I don’t want you to begrudgingly learn to program, I want you to want to program. Being even conversational in a programming langauge can pay compounding dividends.</p>
<p>i also want to discuss one brief but very important topic in spatial analysis.</p>
<p>and really this time is yours so you can tell me what you want from me and i can do my best to provide</p>
</div>
</section></section><section id="a-bit-about-myself" class="level1 page-columns page-full"><h1>A bit about myself</h1>
<p>or, why should you actually listen to me</p>
<div class="notes">
<p>i typically avoid biographical slides in my talks but as I have free reign today. I want to tell you a bit about myself. My goal in doing so is to illustrate that it doesn’t really matter what your background is, spatial analysis is important and applicable to literally everyone and every domain</p>
</div>
<section id="its-a-me" class="level2"><h2 class="anchored" data-anchor-id="its-a-me">It’s a me</h2>
<ul>
<li>MS in Urban Informatics, Northeastern</li>
<li>Sr.&nbsp;Product Engineer @ Esri
<ul>
<li>Spatial Statistics</li>
</ul>
</li>
<li>Previously @ RStudio (now Posit)</li>
<li>Programming in R since 2014</li>
</ul>
<div class="notes">
<p>So who am I and how am I qualified to tell you anything? I can tell you who I am but I don’t know if I’m qualified for anything!</p>
<p>I graduated with a degree in Urban informatics from NEU in April 2020. It was a really bad time but yet also very good time to finish a degree</p>
<p>I work at a company called Esri, we make the software known as ArcGIS. I work as a Sr.&nbsp;Product Engineer on the spatial statistics team. That means that I and a group of about 10 other people think deeply about what tools the “-ists” need to have at their disposal and how to make them intuitive, interpretable, and easy to use. By “ists” I mean the analysts, epidemiologists, biologists, criminologists, and what not.</p>
<p>Before that I worked at a company formerly called RStudio which is where I met René. I worked with government customers ensuring they could use RStudio professional products and bridge open source tools and enterprise products</p>
</div>
</section><section id="humble-beginnings" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="humble-beginnings">humble beginnings</h2>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="https://static.wixstatic.com/media/4999e9_37b24b7ea1824977926f1937eac91725~mv2.png/v1/fit/w_800%2Ch_587%2Cal_c/file.png" class="img-fluid figure-img"></p>
<figcaption class="margin-caption">Plymouth State</figcaption></figure>
</div>
<div class="notes">
<p>Unlike many of you here I was not, and still am not, very academically inclined. I went to a small school in Northern New Hampshire called Plymouth State University (PSU).</p>
</div>
</section></section><section id="psu-is-nationally-recognized" class="level1"><h1>PSU is nationally recognized</h1>
<p>but not in the way that most people want to be</p>
<div class="notes">
<p>While unknown to many, Plymouth State is actually a nationally recognized school.</p>
</div>
</section><section id="section" class="level1"><h1></h1>
<blockquote class="blockquote">
<p>“…this New Hampshire institution of higher learning is back. Four things students dig are skiing, skiing, studying and [partying] on the lake.</p>
</blockquote>
<div class="caption">
<p>Playboy, 2010</p>
</div>
<div class="notes">
<p>recognized by playboy that is… this quote from playboy 2010 sort of gets to the heart of where I went to school. PSU wasn’t a really academic place. And people who go there aren’t typically ones who find themselves going to graduate school</p>
<p>So the fact I work in <em>spatial stats</em> of all things is wild.</p>
</div>
</section><section id="finding-geography" class="level1"><h1>finding geography</h1>
<p>from <em>anthropology</em> &amp; <em>sociology</em> to GIS</p>
<div class="notes">
<p>In college I actually initially studied anthropology and sociology. My interest had been in culture and social behavior. I loved getting in the weeds with social theories like symbolic interactionism, functionalism, conflict theory and all that. I eventually took an introduction to geography which is where I had first heard Tobler’s first law of geography</p>
</div>
</section><section id="tobler-changed-my-perspective" class="level1"><h1>Tobler changed my perspective</h1>
</section><section id="section-1" class="level1"><h1></h1>
<blockquote class="blockquote">
<p>“everything is related to everything else, but near things are more related than distant things.”</p>
</blockquote>
<div class="caption">
<p>Waldo Tobler</p>
</div>
</section><section id="humanity-is-inherently-spatial" class="level1"><h1>Humanity is inherently spatial</h1>
<p>everything we do happens <em>somewhere</em></p>
<div class="notes">
<p>I began to start thinking about social phenomenon from a larger perspective. Where space actually matters. I began thinking about where things happen. Social contexts should not only be framed around income, education, and parenting, but should include geographic measures such as neighborhood and other measures of proximity.</p>
</div>
</section><section id="section-2" class="level1 page-columns page-full"><h1></h1>
<p><img src="2015-geography-presentation.png" class="img-fluid"></p>

<div class="no-row-height column-margin column-container"><div class="">
<p>circa 2014</p>
</div></div></section><section id="i-become-a-gis-pro" class="level1 page-columns page-full"><h1>I become a GIS <em>pro</em>
</h1>
<p><img src="gini-coef.png" class="img-fluid"></p>

<div class="no-row-height column-margin column-container"><div class="">
<p>circa 2015</p>
</div></div><section id="stats-interest-became-an-r-interest" class="level2"><h2 class="anchored" data-anchor-id="stats-interest-became-an-r-interest">stats interest became an R interest</h2>
<ul>
<li>wanted to do more advanced stats</li>
<li>learned 1:1 with my professor</li>
<li>finding data meant cleaning data</li>
<li>explored new packages and exposed to new domains
<ul>
<li>natural language</li>
<li>software engineering</li>
<li>etc</li>
</ul>
</li>
</ul></section><section id="the-next-few-years" class="level2"><h2 class="anchored" data-anchor-id="the-next-few-years">The next few years</h2>
<ul>
<li>spend all my free time learning R</li>
<li>I intern at DataCamp making R courses</li>
<li>Research using interactive GIS</li>
<li>Decide grad school was the right thing for me
<ul>
<li>promptly rejected from all but one school</li>
</ul>
</li>
</ul></section><section id="northeastern" class="level2"><h2 class="anchored" data-anchor-id="northeastern">Northeastern</h2>
<p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCIPAiAFpP11NpTvKw1DKXJQA2XPuuBCmuIh85qfCDE3qTxxZvqicGZs1L6TtW9zrhKgE&amp;usqp=CAU.png" class="img-fluid"></p>
<div class="notes">
<p>at northeastern is when I really dove into spatial analysis my understanding and utility of it really began when i was a research assistant at the boston area research initiative</p>
<p>we looked at indicators of social disorder using administrative data.</p>
<p>a lot of what we looked at were neighbor hood differences but very simple differences using fixed effects in regressions</p>
</div>
</section><section id="advanced-spatial-analysis" class="level2"><h2 class="anchored" data-anchor-id="advanced-spatial-analysis">Advanced Spatial Analysis</h2>
<p><img src="https://geoffboeing.com/wp-content/uploads/2018/07/city-street-orientations-world-osmnx-930x1024.png" class="img-fluid"></p>
</section><section id="advanced-spatial-analysis-1" class="level2"><h2 class="anchored" data-anchor-id="advanced-spatial-analysis-1">Advanced Spatial Analysis</h2>
<ul>
<li>one of my last courses in grad school</li>
<li>learned about spatial autocorrelation</li>
<li>spatial regression</li>
<li>basics of networks analysis</li>
</ul>
<div class="notes">
<p>i learned just enough to know where to look. Everything I learned in my graduate program was just enough to know where to look for more if i wanted to</p>
</div>
</section><section id="a-pandemic-rages" class="level2"><h2 class="anchored" data-anchor-id="a-pandemic-rages">a pandemic rages</h2>
<p><img src="sfdep.png" class="img-fluid"></p>
</section></section><section id="going-beyond-maps" class="level1"><h1>Going beyond maps</h1>
<p>neighborhoods, autocorrelation, and tooling</p>
<div class="notes">
<p>in graduate school is when i was exposed to spatial analysis outside of the context of map-making. though my real learning didn’t happen until a year or so after leaving graduate school</p>
<p>if there is one idea in spatial analysis i want to leave you with it’s the idea of the neighborhood and how we actually measure it.</p>
<p>So, at this point if anyone has any questions i’m happy to answer them otherwise. I’m going to discuss the very fundamental concept neighborhoods, neighbors and the spatial lag</p>
</div>
</section><section id="neighborhood" class="level1"><h1>Neighborhood</h1>
<p>fundamental concept of analysis ## In urban studies</p>
<ul>
<li>the neighborhood fundamental to sociology
<ul>
<li>Chicago school (Park &amp; Burgess)</li>
</ul>
</li>
<li>used to understand differences inside of the city</li>
<li>too much nuance</li>
</ul>
<section id="in-spatial-analysis" class="level2"><h2 class="anchored" data-anchor-id="in-spatial-analysis">In spatial analysis</h2>
<ul>
<li>are phenomena spatially dependent?
<ul>
<li>do similar values occur near each other</li>
</ul>
</li>
<li>start focal with a location <span class="math inline">\(i\)</span>
</li>
<li>it’s neighbors are <span class="math inline">\(j\)</span>
</li>
<li>
<span class="math inline">\(X_i\)</span> is compared to <span class="math inline">\(X_j\)</span>
<ul>
<li>
<em>not</em> to <span class="math inline">\(X\)</span>
</li>
</ul>
</li>
</ul></section></section><section id="how-do-we-define-the-neighbors" class="level1"><h1>how do we define the neighbors?</h1>
<p>it depends….</p>
<div class="notes">
<p>it really depends on if what you’re studying are points or polygons and i’m most comfortable with polygons for spatial analysis it also makes the ideas much simpler to follow</p>
</div>
<section id="contiguities" class="level2"><h2 class="anchored" data-anchor-id="contiguities">contiguities</h2>
<p>how do you choose what the neighbors are for a location?</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-2-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section><section id="rook-contiguity" class="level2"><h2 class="anchored" data-anchor-id="rook-contiguity">Rook Contiguity</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-3-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section><section id="rook-contiguity-1" class="level2"><h2 class="anchored" data-anchor-id="rook-contiguity-1">Rook Contiguity</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-4-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section><section id="queen-contiguity" class="level2"><h2 class="anchored" data-anchor-id="queen-contiguity">Queen contiguity</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-5-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section><section id="queen-contiguity-1" class="level2"><h2 class="anchored" data-anchor-id="queen-contiguity-1">Queen contiguity</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-6-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section><section id="neighbors-in-practice" class="level2"><h2 class="anchored" data-anchor-id="neighbors-in-practice">Neighbors in practice</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-7-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section></section><section id="evaluating-the-neighborhood" class="level1"><h1>Evaluating the neighborhood</h1>
<p>how does <span class="math inline">\(i\)</span> compare to <span class="math inline">\(j\)</span></p>
</section><section id="the-spatial-lag" class="level1"><h1>the <em>spatial lag</em>
</h1>
<p>the neighborhood value</p>
<section id="understanding-the-lag" class="level2"><h2 class="anchored" data-anchor-id="understanding-the-lag">Understanding the lag</h2>
<ul>
<li>“expected value” of the neighborhood</li>
<li>it is the average value of the neighborhood (excluding <span class="math inline">\(i\)</span>)</li>
<li>summarizes values of <span class="math inline">\(x\)</span> for an observation <span class="math inline">\(i\)</span>’s neighborhood</li>
</ul></section><section id="observed-values" class="level2"><h2 class="anchored" data-anchor-id="observed-values">Observed values</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-8-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section><section id="neighborhood-values-at-i" class="level2"><h2 class="anchored" data-anchor-id="neighborhood-values-at-i">Neighborhood values at <span class="math inline">\(i\)</span>
</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-9-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<div class="caption">
<p>the lag is a neighborhood smoother</p>
</div>
</section><section id="observed-vs-neighborhood" class="level2"><h2 class="anchored" data-anchor-id="observed-vs-neighborhood">Observed vs neighborhood</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="2023-02-10-JHU_files/figure-revealjs/unnamed-chunk-10-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<div class="caption">
<p>where locations deviate from their neighbors</p>
</div>
</section><section id="spatial-lag-is-the-basis-of" class="level2"><h2 class="anchored" data-anchor-id="spatial-lag-is-the-basis-of">Spatial Lag is the basis of:</h2>
<ul>
<li>spatial clustering (autocorrelation)</li>
<li>hot spot detection (clustering)</li>
<li>spatial regression
<ul>
<li>(inference / neighborhood spill over effects)</li>
</ul>
</li>
<li>spatio-temporal hot spot analysis</li>
</ul></section><section id="example" class="level2"><h2 class="anchored" data-anchor-id="example">Example</h2>
<p><img src="guns-cluster.png" class="img-fluid"></p>
</section><section id="example-1" class="level2"><h2 class="anchored" data-anchor-id="example-1">Example</h2>
<p><img src="ehsa.png" class="img-fluid"></p>
</section><section id="tools-in-the-r-ecosystem" class="level2"><h2 class="anchored" data-anchor-id="tools-in-the-r-ecosystem">Tools in the R ecosystem</h2>
<ul>
<li>
<code>sf</code> - spatial vector data</li>
<li>
<code>spdep</code> - spatial statistics</li>
<li>
<code>sfdep</code> - a tidy interface to spdep</li>
<li>
<code>rgeoda</code> - R interface to GeoDa</li>
</ul></section><section id="tools-in-python-ecosystem" class="level2"><h2 class="anchored" data-anchor-id="tools-in-python-ecosystem">Tools in Python ecosystem</h2>
<ul>
<li>
<code>geopandas</code> - <code>sf</code> equivalent</li>
<li>
<code>pysal</code> a very robust set of spatial statistics toools</li>
<li>
<code>shapely</code> for geometries</li>
</ul></section><section id="what-do-you-want-to-do-next" class="level2"><h2 class="anchored" data-anchor-id="what-do-you-want-to-do-next">What do you want to do next?</h2>
<ul>
<li>i can answer questions</li>
<li>i can demo code</li>
<li>i can talk through the spatial lag in more detail</li>
<li>we can discuss hot spot analysis</li>
<li>anything you want :)</li>
</ul>


</section></section></main><!-- /main --><script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><script src="https://utteranc.es/client.js" repo="josiahparry/quarto-site" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>